
### 无条件跳转
| `jmp Label` | 直接跳转 |     |
| ----------- | -------- | --- |



### 条件跳转
**根据某个「程序状态字」进行跳转**：

| `je/jz` `jne/jnz` | 零跳转：只判断 `ZF` 标志位   | 判断条件为：`ZF` |
| ----------------- | ---------------------------- | ---------------- |
| `js` `jns`        | 负数跳转：只判断 `SF` 标志位 | 判断条件为：`SF` |


**根据无符号数的比较结果来跳转**：

- 使用 greater，less 这些形容词
- 涉及到 `SF, OF, ZF` 这些「状态字」
- 注：**零也属于「正数无溢出」**，因为其符号位为 `SF=0`。
| `jg/jnle` | 有符号数比较，`>`  | 以下两种情况：- 正数无溢出（**不包括0**）- 负数且溢出（正数减负数时会出现）最终结果为：`~(SF^OF)&~ZF` |
| --------- | ------------------ | ----------------------------------------------------------------------------------------------------- |
| `jge/jnl` | 有符号数比较，`>=` | 以下两种情况：- 正数无溢出（**包括0**）- 负数且溢出 最终结果为：`~(SF^OF)`                            |
| `jl/jnge` | 有符号数，`<`      | 以下两种情况：- 正数且溢出- 负数无溢出 最终结果且：`SF^OF`                                            |
| `jle/jng` | 有符号数：`<=`     | 以下三种情况：- 正数且溢出- 负数无溢出- 零  最终结果为：`(SF^OF)&#124;ZF`                             |


**根据有符号数的比较结果来跳转**：

- 使用 above，below 的形容词
- 涉及到的「程序状态字」为：`CF, ZF`
- 注：比较的结果为零时，进位标志为 `CF=0`，需要单独排除
| `ja/jnbe` | 无符号数：`>`  | 无溢出，且结果不是零 即：`~CF & ~ZF` |
| --------- | -------------- | ------------------------------------ |
| `jae/jnb` | 无符号数：`>=` | 无溢出，包括零 即：`~CF`             |
| `jb/jnae` | 无符号数：`<`  | 溢出 即：`CF`                        |
| `jbe/jna` | 无符号数：`<=` | 溢出，或为零 即：`CF &#124; ZF`      |



### 读取「程序状态字」
读取程序状态字，设置寄存器：
```assembly
# 零
sete/setz D        # D = ZF             # 相等/零
setne/setnz D      # D = ~ZF            # 不相等/非零
# 负数
sets D             # D = SF             # 负数
setns D            # D = ~SF            # 非负数
# 有符号数
setg/setnle D      # D = ~(SF^OF)&ZF    # 有符号大于
setge/setnl D      # D = ~(SF^OF)       # 有符号大于等于
setl/setnge D      # D = SF^OF          # 有符号小于
setle/setng D      # D = (SF^OF)|ZF     # 有符号小于等于
# 无符号数
seta/setnbe D      # D = ~CF & ~ZF      # 无符号大于
setae/sestnb D     # D = ~CF            # 无符号大于等于
setb/setnae D      # D = CF             # 无符号小于
setbe/setna D      # D = CF|ZF          # 无符号小于等于
```


### 比较运算
`cmp`：
比较两个操作数值的大小，并设置状态字的标志
计算结果等同于 `sub`，但是只设置「状态字」，不修改其他寄存器
可以用在 `if` 语句中，条件表达式的值是一个临时值

`test` 同 `and` ，仅设置「程序状态字」


### 函数相关
`call`：

- 将下一条指令的地址放入栈中，跳转到被调函数中
- 相当于先后执行：`push PC`，`jmp <function>`

`ret`：

- 从栈中取出返回地址，跳转到该返回地址
- 相当于先后执行：`pop <temp>`，`jmp <temp>`

`leave`：

- 恢复「主调函数」的寄存器和释放「局部变量」的空间可以由 `leave` 指令实现：
- 也可以不使用 `leave`，用代码组合实现：`movl %ebp, %esp` ，`popl %ebp`

