
## 平面上的投影问题
现在考虑这样一个问题：
将向量 $\vec{b}$  投影到 $\vec{a}$  上，求投影后的向量。
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214544.712707_image.png | 148]]
投影后的向量可以表示为：
$$\vec{p} = x\vec{a}$$

可以根据图中的垂直关系计算出系数 $x$ ：
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214544.981983_image.png | 152]]
最终，投影后的向量可以表示为：
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214545.4756968_image.png | 177]]

**投影可以看作是一种变换，将向量 **$\vec{b}$ ** 变换为向量 **$\vec{p}$ **，这种变换可以写成矩阵 **$P$ ：
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214545.739608_image.png | 260]]
**现在研究这个投影矩阵**：
投影矩阵的列空间是什么？

- 由于矩阵乘以向量得到的结果总位于矩阵的列空间中，再由投影矩阵的几何意义（将向量投影到 $\vec{a}$  的直线上），可以知道「列空间」就是「$\vec{a}$  的直线」

这个矩阵具有如下的性质：

1. 矩阵的秩 $rank\, ( P) = 1$ ，他的基向量可以是 $\vec{a}$ 
2. 矩阵是对称的，因为：$P^T = \frac{(aa^T)^T}{a^T a} = P$ 
3. $P^2 = P$ 。这个由投影矩阵的几何意义可以得到，无论进行多少次投影，结果都是 $\vec{p}$ 


## 三维空间的投影问题
空间中存在过原点的平面，将平面外的向量 $\vec{b}$  投影到平面上，得到向量 $\vec{p}$ ：
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214546.250336_image.png | 266]]
其中，$\vec{a_1},\, \vec{a_2}$  是平面的一组基向量。

投影后的向量可以表示为：
$$\vec{p} = x_1 \,\vec{a_1} + x_2 \,\vec{a_2}$$

写成矩阵形式即为：
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214546.575181_image.png | 225]]

> 这里的矩阵 $A$  有什么意义？
> - 矩阵 $A$  的「列空间」即为图中的平面。
> - 投影垂线的向量 $\vec{b} - \vec{p}$  位于矩阵 $A$  的「左零空间」。因为「列空间」和「左零空间」是正交补的，任何垂直于「列空间」的向量都位于「左零空间」中。


只要能够求出 $\hat{x}$ ，就能够求出投影向量 $\vec{p}$ 。利用关键条件 $\vec{b} - \vec{p}$  与平面平行，可以得到：
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214547.149931_image.png | 196]]
同样，向量 $\vec{b}$  到向量 $\vec{p}$  的投影可以由矩阵乘法做到，将这个投影变换矩阵记为 $P$ ：
$$\left.\begin{array}{l}
\hat{x}=\left(A^T A\right)^{-1} A^T \boldsymbol{b} \\
\boldsymbol{p}=A \hat{x}=A\left(A^T A\right)^{-1} A^T \boldsymbol{b}
\end{array}\right\} 
P=A\left(A^T A\right)^{-1} A^T$$
> 当矩阵 $A$  是可逆方阵是，可以得到变换矩阵 $P = I$ 
> 这于几何意义一致：矩阵 $A$  的「列空间」就是整个线性空间，向量 $\vec{b}$  已经位于矩阵的「列空间」中，所以投影并不做什么。


投影矩阵具有以下性质：

- $P^T = P$ 
- $P^2 = P$ 


### 无解的线性方程组
在求解实际的问题时，为了求解几个位置数，通常会测量多组参数，最后得到一个方程组，这个方程组可能无解：
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214547.459852_image.png | 139]]

> 为什么可能无解？
> 假设矩阵 $A$  的尺寸是 $m \times n$ ，那么其「列空间」仅仅是 $R^m$  中的一部分，向量 $\vec{b}$  可能并不位于矩阵的「列空间」中。


如果方程组无解，如何求出未知数 $x$  ？
可以用近似的方法求出。其中的几何原理就是，将向量 $\vec{b}$  投影到矩阵 $A$  的列空间中，得到向量 $\vec{p}$ ，然后解以下的方程组：
$$A\hat{x} = \vec{p}$$
> 根据投影的几何关系（垂直关系），上述方程组和以下方程组同解（上面已经推论过了）：
> $A^T A \, \hat{x} = A^T b$ 


最后得到的 $\hat{x}$  就是未知数 $x$  的近似。

由于矩阵 $A$  的零空间 $N(A)$  和矩阵 $A^T A$  的零空间 $N(A^TA)$  相同，因此只有当 $N(A) = \{0\}$  时，即 $A
$  的列线性无关时， 矩阵 $A^TA$  才是可逆的。

> ![[不活跃主题/线性代数/正交的子空间/_attachments/1667214547.716167_image.png | 266]]



## 投影矩阵的意义
将向量 $b$  投影到矩阵 $A$  的列空间中，得到向量 $p$ ，两者的误差 $e = b - p$  位于矩阵 $A$  的零空间中。
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214548.087667_image.png | 145]]

从向量 $b$  到向量 $p$  的变换过程可以用投影矩阵 $P$  来表示：
![[不活跃主题/线性代数/正交的子空间/_attachments/1667214548.360448_image.png | 200]]


