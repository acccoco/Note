> **图像压缩的原理是**：
> - 首先将图像用一系列的向量来表示；改变这些向量的基，使得新的系数有些可以舍弃。
> 
 
> **向量和矩阵是什么**：
> - 向量和线性变换才是本质，矩阵只是在特定基之下的表现形式而已。
> - 矩阵可以看作是线性变换。向量和线性变换可以不依赖于基而存在；选择了基，向量和线性变换就可以用数字的形式来表示。
> 
 
> **基变换**：
> - 坐标，矩阵都源于基的选择。不指定基，说明它使用的是「标准基」
> - 同一个向量，选择不同的基 来表示，可以得到不同的形式。
> - 改变向量的基，可以得到不同的表示系数。
> 
 
> **同一个线性变换在不同基下的表示**：
> - 线性变换是本质，选择不同的基，可以用不同的矩阵形式来表示同一个线性变换。
> - 不同基下的同一个线性变换对应的矩阵，这些矩阵是「相似」的。



### 图像压缩

#### 一、用向量表示图像信息
如何表示图像信息，假设图片是黑白的，每个像素有 256 种颜色，那么 8x8 区域内的所有像素可以用一系列的向量来表示：
![[不活跃主题/线性代数/线性代数/_attachments/1667214567.692439_image-20211219204926261.png | 399]]



#### 二、压缩图像信息
上面的存储方法，8x8 区域的图像信息需要用 64 个数字来储存。

实际上，一个物体不会再空间上突然发生变化，因此，邻近的像素会有相似之处。可以用这个原理来进行图像信息的压缩。

一列像素可以用向量来表示，这个向量实际是标准基的线性组合：
$$x = c_1 v_1 + c_2 v_2 + \cdots + c_n v_n
$$

其中：

- $c_i$  是组合系数，也就是「坐标」
- $v_i$  是「标准基」

如果选择另一组基向量，可以得到新的组合系数 $d_i$ ：
$$\begin{array}{ll}
	x & = c_1 v_1 + c_2 v_2 + \cdots + c_n v_n \\
	  & = d_1 w_1 + d_2 w_2 + \cdots + d_n w_n
\end{array}
$$

选择合适的「基」，可以让组合系数中尽可能多地出现极小的数，从而可以丢弃这些分量。这样就实现了图像信息的「有损压缩」。

图像有损压缩和还原的过程：
![[不活跃主题/线性代数/线性代数/_attachments/1667214567.879183_image-20211219211312753.png | 304]]


#### 三、常用的基
用于图像压缩的优秀的基需要具有两种特征：

- 基组成的矩阵 $W$  和 $W^{-1}$  在进行乘法运算时速度很快；
- 压缩后的系数即使被扔掉一部分仍然不影响图像的显示效果。

符合以上特征的基有两种：「傅立叶基」和「小波基 wavelet」

**傅立叶基**：
$$
F =
\begin{bmatrix}
	1 & 1 & \cdots & 1 \\
	1 & w & \cdots & w^{n-1} \\
	\vdots & \vdots & \ddots & \vdots \\
	1 & w^{n-1} & \cdots & w^{(n-1)^2}
\end{bmatrix}
$$

前面已经介绍过「快速傅立叶变换 FTT」了，它可以让基变换的矩阵乘法计算起来很快。

**小波基**：
8x8 的小波基如下所示：
$$\left[\begin{array}{r}
	1 \\ 1 \\ 1 \\ 1 \\ 1 \\ 1 \\ 1 \\ 1
\end{array}\right]
\left[\begin{array}{r}
	1 \\ 1 \\ 1 \\ 1 \\ -1 \\ -1 \\ -1 \\ -1
\end{array}\right]
\left[\begin{array}{r}
	1 \\ 1 \\ -1 \\ -1 \\ 0 \\ 0 \\ 0 \\ 0
\end{array}\right]
\left[\begin{array}{r}
	0 \\ 0 \\ 0 \\ 0 \\ 1 \\ 1 \\ -1 \\ -1
\end{array}\right]
\left[\begin{array}{r}
	1 \\ -1 \\ 0 \\ 0 \\ 0 \\ 0 \\ 0 \\ 0
\end{array}\right]
\left[\begin{array}{r}
	0 \\ 0 \\ 1 \\ -1 \\ 0 \\ 0 \\ 0 \\ 0
\end{array}\right]
\left[\begin{array}{r}
	0 \\ 0 \\ 0 \\ 0 \\ 1 \\ -1 \\ 0 \\ 0
\end{array}\right]
\left[\begin{array}{r}
	0 \\ 0 \\ 0 \\ 0 \\ 0 \\ 0 \\ 1 \\ -1
\end{array}\right]
$$

第一个基表示图像信息中不变的部分，例如颜色相似的一个区块；后面的基可以组合出各种形式的变化。

小波的基互相正交，性质良好。

类似于「快速傅立叶变换」，小波也有对应的「快速小波变换 FWT」


### 基变换

#### 一、基变换矩阵
同时存在两组基，一组为 $v_1, \cdots , v_n$  ，另一组是 $w_1,\cdots,w_n$ 。第二组基可以用第一组基来表示，关系如下：
$$w_i = m_{11} v_1 + m_{21} v_2 + \cdots + m_{n1} v_n
$$

![[不活跃主题/线性代数/线性代数/_attachments/1667214568.207285_image-20211220110944078.png | 203]]

可以将两组基之间的关系用矩阵表示：
$$\left[\begin{array}{c}
	w_1 \\ w_2 \\ \vdots \\ \ w_n
\end{array}\right]
= \left[\begin{array}{c}
v_1 \\ v_2 \\ \vdots \\ \ v_n
\end{array}\right]
\underset{\color{red}M}{
	\underline{
        \left[\begin{array}{c}
            m_{11} & \cdots & m_{1n} \\
            \vdots & & \vdots \\
            m_{n1} & \cdots & m_{nn}
        \end{array}\right]
    }
}
$$

也就是 $W = VM$ 。其中，$M$  就是「**基变换矩阵**」。

> 注：如果第一组基是「标准基」，即 $V = I$ ，那么有：
> $M = W
$ 
>  
> 「基变换」矩阵就是由第二组基组成的矩阵。



#### 二、向量在不同基下的表示
同一个向量可以用不同的基来表示：
$$x = 
\underset{\color{red}Basis\ 1}{
	\underline{
        \begin{bmatrix}
            v_1 & v_2 & \cdots & v_n
        \end{bmatrix}
        \begin{bmatrix}
            c_1 \\ c_2 \\ \vdots \\ c_n
        \end{bmatrix}
    }
}
= \underset{\color{red}Basis\ 2} {
	\underline{
        \begin{bmatrix}
            w_1 & w_2 & \cdots & w_n
        \end{bmatrix}
        \begin{bmatrix}
            d_1 \\ d_2 \\ \vdots \\ d_n
        \end{bmatrix}
    }
}
$$


![[不活跃主题/线性代数/线性代数/_attachments/1667214568.4389372_image-20211220113128647.png | 279]]

运用之前得到的「基变换矩阵」，可以得到同一个向量在不同基之下系数的关系：
$$
\begin{array}{cl}
	& Vc = Wd \\
	\overset{代入W = VM}{\Longrightarrow} & Vc = (VM)d \\
	\Longrightarrow & c = Md
\end{array}
$$


#### 三、不同基下的线性变换
> 线性变换可以并不依赖矩阵，矩阵只是线性变换的一种表现形式。


线性变换对应的矩阵是依赖于基的选择的。考虑同一个线性变换（例如旋转变换）在不同基下对应的矩阵。

第一组基是 $v_1, v_2 ,\cdots, v_n$ ，向量 $x$  表示为 $x = Vc$  。线性变换对应的矩阵是 $A$ 。

对向量 $x$  进行线性变换：
$$T(x) = V A c$$

第二组基是 $w_1, w_2, \cdots, w_n$ ，向量 $x$  表示为 $x = Wd$ ，线性变换对应的矩阵是 $B$ 。

对向量  $x$  进行线性变换：
$$T(x) = WBd$$

线性变换后的向量是一样的，即：
$$VAc = WBd
$$

再代入之前得到的不同基下同一个向量的系数关系式 $c = Md$ ，可以得到：
$$VA(Md) = WBd$$

再代入基变换矩阵 $W = VM$ ，可以得到：
$$
V A (Md) = (VM) Bd \\
\color{red}B = M^{-1}AM
$$


上面的表达式说明：同一个线性变换在不同基下对应的矩阵式**相似**的。变换的矩阵通过「基变换矩阵」联系在一起。
