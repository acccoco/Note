> 1、连续随机变量函数的分布：先算出累积分布函数，再求导得到概率密度函数。
> 2、随机变量和的分布，相当于对分布函数进行**卷积**。



## Y=g(X) 的分布
有个两个随机变量 $X,\ Y$ ，两者的关系是 $Y = g(X)$ ，已知 $X$  的分布，如何得到 $Y$  的分布。

### 1、离散情形
已知离散随机变量的分布，计算其函数的分布。
示意图如下：
![[不活跃主题/概率论/概率论/_attachments/1643033091902-653b36eb-c578-45b2-b1de-82ff050665c2.png | 283]]
概率质量函数如下：
$$\begin{array}{rl}
	p_Y(y) & = P(g(Y) = y) \\
	       & = \sum_{x:\ g(x) = y} p_X(x)
\end{array}
$$

### 2、连续情形
![[不活跃主题/概率论/概率论/_attachments/1643033091992-7830a1f2-6d2e-4e1e-956d-17b4c3ddf736.png | 275]]

使用累积分布函数计算要方便一些：
$$\begin{array}{rl}
	F_Y(y) & = P(Y \le y) \\
	       & = P(g(X) \le y)
\end{array}
$$

如果 $g(X)$  是单调增的，那么进一步可以得到：
$$F_Y(y) = P(X \le g^{-1}(y)) = F_X(g^{-1}(y))$$

求导即可得到概率密度函数。


### 3、例子
路程为 200，速度的分布已知，求时间 T 的分布。
![[不活跃主题/概率论/概率论/_attachments/1643033092072-4e18dba7-a0e0-4757-a4dc-ba9d0338ec99.png | 213]]

直接计算：
$$\begin{array}{rl}
	F_T(t) & = P(T \le t) \\
	       & = P(V \ge \frac{200}{t}) \\ 
	       & = 2 - \frac{20}{3t}
\end{array}
$$

求导可得随机变量 $T$  的概率密度函数：
$$f_T(t) = \frac{20}{3t^2}
$$

也就是：
![[不活跃主题/概率论/概率论/_attachments/1643033092153-d64a3d5d-4d8b-44ef-9d92-ad10f1da1120.png | 232]]

如何理解这个图呢：同样的 $\delta V$ ，在 $V$  较小时对应的 $\delta T$  较大，因此才有这个现象。


### 4、g(X) 是单调函数
对于随机变量 $X$  的任意函数 $Y=g(X)$ ，只要函数是单调的，那么可以进行如下推导：
![[不活跃主题/概率论/概率论/_attachments/1643033092234-d2790f42-b2ec-4f18-8ac9-73d065bf4e6f.png | 255]]

随机变量 $X$  在区间 $(x,\ x+\delta)$  的概率，等于随机变量 $Y$  位于区间 $(y,\ y+\gamma)$  的概率。
当 $\delta\to 0$  时，有：
$$P(x\le X\le x + \delta) = f_X(x) \cdot \delta \\ 
P(y\le Y \le y + \gamma) = f_Y(y) \cdot \gamma \\ 
\gamma = g'(x) \cdot \delta
$$

因此，只要知道了 $X$  的概率密度函数，$Y$  的概率密度函数就很容易得到：
$$f_Y(y) = \frac{f_X(x)}{|g'(x)|}
$$

注：如果想要去掉表达式中的 $x$ ，使用 $x=g^{-1}(y)$  替换即可。


## Z=Y/X 的分布
已知随机变量 $X,\ Y$  的分布，求 $Z=Y/X$  的分布。
联合概率密度为：
![[不活跃主题/概率论/概率论/_attachments/1643033092315-ce1b2bb7-c6f9-4f23-a321-395996b6a667.png | 196]]

首先计算 $Z$  的累积分布函数：
$$F_Z(z) = P(Z \le z) = P(Y \le z X)
$$

![[不活跃主题/概率论/概率论/_attachments/1643033092397-2c663b1f-4698-41c1-b7a9-fe065cccd5a1.png | 300]]

得到的 CDF 如下图所示：
![[不活跃主题/概率论/概率论/_attachments/1643033092485-28a973f5-e151-4bcf-b034-c571e49f0e29.png | 399]]

概率密度函数如下图：
![[不活跃主题/概率论/概率论/_attachments/1643033092575-8d82ffea-e6ce-415d-9dd2-100212b2c140.png | 377]]

由于 $X,\ Y$  是相互独立的，因此可以用一下方法来计算期望：
$$E[X/Y] = E[X] \cdot E[\frac{1}{Y}] = +\infty
$$


## W=X+Y 的分布
已知 $X,\ Y$  的分布，且两随机变量独立，要求 $W = X+Y$  的分布。


### 1、离散情形
随机变量 $W$  的概率质量函数 PMF 为：
$$p_W(w) = \sum_x p_X(x) \cdot p_Y(w-x)
$$

这实际上是在做函数 $p_X(x)$  和 $p_Y(y)$  的离散卷积。
> 离散卷积：
> $$(f * g)(x) = \sum_{\tau}f(\tau) \ g(x - \tau)$$


如何计算这个表达式，如果随机变量 $X,\ Y$  的概率质量函数如下所示：
![[不活跃主题/概率论/概率论/_attachments/1643033092661-023c994d-8aa2-481a-a2d6-9386b2040465.png | 283]]

卷积的计算方式为：将 $p_Y(y)$  沿 $y$  轴翻折，然后移动 $w$  的距离，对应位置相乘，结果相加：
$p_W(w=0) = 0$ ：
![[不活跃主题/概率论/概率论/_attachments/1643033092752-21c09f39-fcb1-4d47-9b10-02c6a69b1377.png | 263]]
$p_W(w=3) = 1/6$ ，可以理解为：当 $X=1$ ，且 $Y=2$  时，可以得到 $W=3$ ：
![[不活跃主题/概率论/概率论/_attachments/1643033092836-74f350cd-1ace-40b8-ac6a-4413973bcfb8.png | 250]]
$p_W(w=5) = 1/4$ ，意味着：当 $X=1,\ Y=4$  或者 $X=3,\ Y=2$  这两种情形时，可以有 $W = 5$ ，出现的概率是 $1/4$ ：

![[不活跃主题/概率论/概率论/_attachments/1643033092924-9c78ef6e-77c3-4b83-9fe0-e6bd43baa191.png | 239]]



### 2、连续的情形
随机变量 $W$  的概率密度函数为：
$$f_W(w) = \int_{-\infty}^{+\infty} f_X(x)\ f_Y(w-x) dx
$$

这就是函数 $f_X(x)$  和 $f_Y(y)$  的卷积。
给定了某个 $W=w_i$ ，相当于在下图所示的直线区域上进行积分（**第二类曲线积分**）：
![[不活跃主题/概率论/概率论/_attachments/1643033093006-8cf412c3-126e-4cb0-8ae0-bb857f9949d4.png | 212]]
积分区域是直线 $y = w_i - x$ ，被积函数是 $f_X(x) \cdot f_Y(y)$ ，积分的结果为：
$$\int_{l}f_X(x) \cdot f_Y(y) dx = \int_{-\infty}^{+\infty}f_X(x) \cdot f_Y(w_i - x) dx
$$

### 

## Y = CDF(X)
函数的累计分布函数符合什么分布？
随机变量 $Y = CDF(X)$  符合均匀分布 $U(0,\ 1)$ ,推导过程如下：
![[不活跃主题/概率论/概率论/_attachments/1646219707681-2eee39f9-0799-42ed-95ef-d9f3447b09a4.png | 329]]
