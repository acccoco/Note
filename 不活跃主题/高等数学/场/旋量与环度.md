
## 斯托克斯公式
格林公式：平面闭区域上的二重积分和边界曲线上的曲线积分之间的关系。
斯托克斯公式是格林公式的推广：曲面上的曲面积分与曲面边界曲线上的曲线积分之间的关系。

$\Sigma$  是空间中的有向曲面，$\Gamma$  是其边界曲线，$\Gamma$  的正向和 $\Sigma$  的方向符合右手规则。则：
$$\begin{align}
& \iint_{\Sigma}
\left( \frac{\partial R}{\partial y} - \frac{\partial Q}{\partial z} \right)dydz +
\left( \frac{\partial P}{\partial z} - \frac{\partial R}{\partial x} \right)dzdx +
\left( \frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} \right)dxdy \\
= &
\oint_{\Gamma} Pdx + Qdy + Rdz
\end{align}$$

斯托克斯公式可以用行列式来辅助记忆：
$$\iint_{\Sigma} \begin{vmatrix}
dydz & dzdx & dxdy \\
\frac{\partial}{\partial x} & \frac{\partial}{\partial y} & \frac{\partial}{\partial z} \\
P & Q & R
\end{vmatrix}
=
\oint_{\Gamma} Pdx + Qdy + Rdz$$

> 利用向量微分算子，还可以有这个形式的斯托克斯公式：
> $\iint_{\Sigma} \nabla \times \boldsymbol{A} \cdot d\boldsymbol{\Sigma} = \oint_{\partial \Sigma} \boldsymbol{A} \cdot d\boldsymbol{r}$ 
> 其中：
> - $\boldsymbol{A} = (P(x,y,z),\, Q(x,y,z),\, R(x,y,z))$  表示向量场
> - $d\boldsymbol{\Sigma} = (dydz,\, dxdz,\, dxdy)$  是有向面元
> - $\partial \boldsymbol{\Sigma}$  表示有向曲面 $\Sigma$  的边界有向曲线
> - $d\boldsymbol{r} = (dx,\, dy,\, dz)$  是有向曲线元



### * 推导过程
将 $\Sigma$  投影到 $xOy$  平面上，则空间有限曲线 $\Gamma$  对应平面上的有向曲线 $C$ ，空间曲面 $\Sigma$  对应平面区域  $D_{xy}$ ，曲面的方程为 $z = f(x,\, y)$ ：
![[不活跃主题/高等数学/场/_attachments/1667215286.0712671_image.png | 143]]

先处理「斯托克斯公式」中左边与 $P(x,y,z)$  有关的部分：
$$\iint_{\Sigma} \frac{\partial P}{\partial z} dzdx - \frac{\partial P}{\partial y}dxdy = \iint_{\Sigma}\left(
\frac{\partial P}{\partial z} \cos \beta - \frac{\partial P}{\partial y} \cos\gamma
\right) d S$$

由下图可以得到曲面的法向量对应的方向余弦（向量积计算得到）：
![[不活跃主题/高等数学/场/_attachments/1667215286.411507_image.png | 129]]

$\cos\alpha = \frac{-z_x}{\sqrt{1+ z_x^2 + z_y^2}}$ ，$\cos\beta = \frac{-z_y}{\sqrt{1+ z_x^2 + z_y^2}}$ ，$\cos\gamma = \frac{1}{\sqrt{1+ z_x^2 + z_y^2}}$ 

将方向余弦带入，可以得到：
$$\begin{align}
\iint_{\Sigma}\left(
\frac{\partial P}{\partial z} \cos \beta - \frac{\partial P}{\partial y} \cos\gamma
\right) d S
& = -\iint_{\Sigma}\left( \frac{\partial P}{\partial y} + \frac{\partial P}{\partial z}f_y \right)\cos\gamma dS \\
& = -\iint_{\Sigma} \left( \frac{\partial P}{\partial y} + \frac{\partial P}{\partial z}f_y \right)dxdy
\end{align}$$

再将以下式子带入：
$$ \frac{\partial P}{\partial y} + \frac{\partial P}{\partial z}f_y = \frac{\partial P[x,\,y,\,f(x,y)]}{\partial y}$$

可得：
$$
-\iint_{\Sigma} \left( \frac{\partial P}{\partial y} + \frac{\partial P}{\partial z}f_y \right)dxdy
= 
-\iint_{\Sigma}\frac{\partial P[x,\, y,\, f(x,y)]}{\partial y} dxdy
$$

可以直接将这个曲面积分化为二重积分（因为被积函数是关于 $x,\, y$  的）：

$$
-\iint_{\Sigma}\frac{\partial P[x,\, y,\, f(x,y)]}{\partial y} dxdy 
=
-\iint_{D_{xy}} \frac{\partial P[x,\, y,\, f(x,y)]}{\partial y} dxdy
$$


运用格林公式，可以得到：

$$
-\iint_{D_{xy}} \frac{\partial P[x,\, y,\, f(x,y)]}{\partial y} dxdy
=
\oint_{C} P[x,\, y,\, f(x,y)] dx
$$

由于曲线 $C$  上点 $(x,\,y)$  直接和曲线 $\Gamma$  上的点 $(x,\, y,\, f(x,y))$  对应，因此可以得到：
$$\oint_{C}P[x,\, y,\, f(x,y)]dx = \oint_{\Gamma} P(x,\, y,\, z) dx$$ 

最终，我们得到了：
$$
\iint_{\Sigma} \frac{\partial P}{\partial z} dzdx - \frac{\partial P}{\partial y}dxdy
=
\oint_{\Gamma} P(x,\, y,\, z) dx
$$


用同样的方法，可以证明公式中的其他部分。


## 环量与旋度

存在向量场：

$$\boldsymbol{A}(x,y,z) = P(x,y,z)\boldsymbol{i} +
Q(x,y,z)\boldsymbol{j} + R(x,y,z)\boldsymbol{k}$$

以及封闭的有向曲线 $\Gamma$ ，沿着曲线一圈得到的曲线积分即为「**环流量**」：
$$\oint_{\Gamma} \boldsymbol{A}\cdot d \boldsymbol{r}$$

环量的密度即为旋度：
$$\boldsymbol{rot} \, \boldsymbol{A} = \begin{vmatrix}
\boldsymbol{i} & \boldsymbol{j} & \boldsymbol{k} \\
\frac{\partial}{\partial x} & \frac{\partial}{\partial y} & \frac{\partial}{\partial z} \\
P & Q & R
\end{vmatrix}$$

利用向量微分算子，旋度可以写成：
$$\boldsymbol{rot \, A} = \nabla \times \boldsymbol{A}$$

![[不活跃主题/高等数学/场/_attachments/1667215286.696104_image.png | 209]]

根据定义可以知道，「旋度为零」等价于「空间曲线积分与路径无关」

> 【例】
> 重力场可以简单定义为：
> $\boldsymbol{g} = (x, y, z) \frac{-1}{R^3}$ 
> 其中 $R = \sqrt{x^2 + y^2 + z^2}$ ，表示物体到原点（地心）的距离：
> ![[不活跃主题/高等数学/场/_attachments/1667215286.985059_image.png | 283]]
> 
> 可以算出，重力场中每一点的旋度均为零：
> $\boldsymbol{rot \, g} = \boldsymbol{0}$ 
> 
> 因此重力场是无旋场。这种无旋场又叫做「**调和场/保守场**」


> 【例】
> 有这样一个速度场：
> $\boldsymbol{v} = (-y, x, 0)$ 
> ![[不活跃主题/高等数学/场/_attachments/1667215287.3294258_image.png | 255]]
> 可以算出，旋度为：
> $\boldsymbol{rot \, v} = (0, 0, 2)$ 
> 旋度的示意图如下：
> ![[不活跃主题/高等数学/场/_attachments/1667215287.705387_image.png | 229]]


