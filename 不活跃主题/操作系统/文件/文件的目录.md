[toc]

## 文件的目录
**文件控制块FCB**：这是通用的概念

- 为了管理文件系统，将文件的各种属性信息存放在一个数据结构中，也就是FCB。FCB是存在于外存中的。一个FCB就是一个目录项，很多FCB就组成了目录。
- FCB包括：文件名，文件的物理位置，存取权限，建立时间，修改时间等。

**索引结点inode**：这是一种实现方式

- 是Unix/Linux中文件管理的方法，和FCB类似。目录项和inode也是存在于外存中的。
- 这种方式可以减小目录项的空间，加快文件检索

![[不活跃主题/操作系统/文件/_attachments/1600092885732-d6f06340-ba4c-48e5-b6be-03424f8148d0.png | 590]]

## 目录结构的结构

- 单级目录结构，两级目录结构
- 树形目录结构：比如Linux的目录结构
- 无环图目录结构：可以非常方便地实现文件共享

## 文件共享（考虑inode实现）

- 硬链接 - 索引节点：不同目录结构的目录项指向同一个inode。各个目录项的地位是相同的。
- 软链接 - 符号链接：会建立一个LINK类型的文件，其中存放了共享文件的路径；并没有存放inode。

![[不活跃主题/操作系统/文件/_attachments/1600093148063-e6e3e412-da66-440e-9ab3-e045891577db.jpeg | 297]]

## 打开文件表
操作系统有一个打开文件表；每个进程也有打开文件表。
打开文件表好像会使用FCB的数据结构。
打开文件表记录了在对哪些文件进行操作。操作系统会提供以下支持：

- 将文件属性读入内存，比如文件名，大小，修改时间等
- 为每一个文件维护一个打开计数(Open     Count）
- 记录文件读写位置的指针
