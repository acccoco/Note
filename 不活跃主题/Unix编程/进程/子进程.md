
#### 创建子进程
![[不活跃主题/Unix编程/进程/_attachments/1600051930713-2b0f2b86-6159-4313-9d1a-7053ef329230.png | 678]]


#### 父子进程资源共享


##### 1. 子进程共享资源

在`fork`的过程中，对于父进程的资源，操作系统会使用特定的函数来实现父子进程的共享。

对于套接字，使用`copy_files`来复制资源，实际是引用计数`+1`


##### 2. 子进程释放资源

以套接字描述符为例

子进程调用`close`，会让`sockfd`的引用计数-1，并不会直接关闭套接字。
