---
tags:
    - vulkan
---


vulkan 的各种 present mode，需要时再仔细研究：

[https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#VkPresentModeKHR](https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#VkPresentModeKHR)


present 的层次：
![[_attachments/Pasted image 20221103022709.png|400]]


## frames in-flight

\#frames in-flight != \#swapchain images

资源包括：command buffer，uniform buffer 等

首先应该 wait current fence，如果 in-flight 数和 swapchain 一致，那么 current fence 的 index 就等于 image index；否则 current fence 的 index 自己维护。

由于 framebuffer 数量和 swapchain 一致，

如果 in-flight 数量和 swapchain 无关，那么需要重新记录 command buffer

如果 in-flight 数量和 swapchain 一致，那么可以不用重新记录 command buffer