
### 卷积的定义
离散的：
$$h[n] = (f*g)[n] = \sum_{m = -\infty}^{\infty} f[m]g[n-m]$$

连续的：
$$h(x) = (f*g)(x) = \int_{-\infty}^{\infty}f(\tau)g(x-\tau)d\tau$$

什么是卷积：卷积是以两个函数作为输入，产生一个函数的运算。

**离散卷积的定义域范围**：
如果 $f(x)$  的定义域范围是 $[a,\ b]$ ；$g(x)$  的定义域范围是 $[c, \ d]$ ，那么两者的卷积定义域范围是 $[a + c,\ b + d]$ 。


**运算律**：

- 交换律：$f * g = g * f$ 
- 结合律：$f*(g*h) = (f*g)*h$ 
- 分配律：$f*(g + h) = (f *g) + (f*h)$ 
- 数乘：$a(f * g) = (af) * g$ 


### 如何理解卷积
卷积函数的**某个函数值** $h(x_0)$  如何得到：$f(x)$  不变，$g(x)$  先翻折，然后移动到 $x_0$  处，两个函数再对应相乘。
![[图形学/反走样/_attachments/1667212931.1752262_Pasted Graphic.png | 452]]

post-process 用到的卷积这样理解就很直观：
![[图形学/反走样/_attachments/1667212931.304754_一h二fg.png | 184]]

**卷积函数视为多个函数相加**
卷积可以看作是一系列函数相加：
![[图形学/反走样/_attachments/1667212931.538337_(f9)Lx)= LitScr-oy + 8ct-b1ge-D)dt.png | 407]]


### Dirac delta 函数：
$\delta(x) $ 是一种广义函数。示意图：

![[图形学/反走样/_attachments/1667212931.679289_Pasted Graphic.png | 173]]
主要性质：
$$\int_{-\infty}^{+\infty}f(x)\delta(x-x_0) dx = f(x_0)$$

因此：$\delta(x)$ 和其他任何函数的卷积都等于其他任何函数：
$$\delta(x) * f(x) = \int_{-\infty}^{\infty}\delta(\tau)f(x-\tau)d\tau=f(x)$$

常见用法（注：$\delta(x)$ 必须要用在积分运算中才有意义）：
$$f(x) \delta(x - x_0) = f(x_0) \delta (x - x_0)$$

> 可以这样理解 $\delta(x)$ ：
> - 在「加法」运算中，任何数和 $0$ 进行加法运算，得到这个数本身；两个数相加等于 $0$ ，则两个数互为「相反数」。
> - 在「乘法」运算中，任何数和 $1$ 进行乘法运算，得到这个数本身；两个数相乘等于 $1$ ，则两个数互为「相反数」。
> - 在「矩阵乘法」中，任何矩阵和单位矩阵 $I$ 相乘，得到这个矩阵本身；两个矩阵乘积得到单位矩阵，则两个矩阵互为「逆矩阵」。
> - 在「卷积」运算中，任何函数和 $\delta(x)$ 进行卷积，得到这个函数本身；两个函数卷积得到 $\delta(x)$ ，则两个函数互为「逆」。



### 卷积定理
卷积定理的表达式如下：
$$\mathcal{F}\{ f * g \} 
= k \cdot \mathcal{F}\{ f \} \cdot \mathcal{F}\{ g \}$$

其中：$\mathcal{F}$ 是傅立叶变换，或者双边拉普拉斯变换，逆傅立叶变换等。

**证明**：
以双边拉普拉斯变换为例：
![[图形学/反走样/_attachments/1667212931.8060002_全利对jw和g(v) 进行双也 Laploa 变换.png | 410]]


### 参考

- [https://en.wikipedia.org/wiki/Convolution](https://en.wikipedia.org/wiki/Convolution)
- 小时百科 [https://wuli.wiki/online/Delta.html](https://wuli.wiki/online/Delta.html)
