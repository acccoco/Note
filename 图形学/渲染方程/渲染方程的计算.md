
## specular glossiness 模型

![[图形学/渲染方程/_attachments/Pasted image 20230405225323.png | 400]]

具体计算过程如下：

```glsl
vec3 calc_brdf() {
    // diffuse
    vec3 diffuse = k_d * SG.diffuse / PI;

    // specular
    float roughness = 1.0 - SG.glossiness;
    vec3 F0 = SG.specular;
    vec3 specular = ...

    // brdf
    return diffuse + specular;
}
```


## Metallic Roughness

![[图形学/渲染方程/_attachments/Pasted image 20230405225945.png | 400]]

```glsl
// specular
// 金属度低，则 base color 对 F0 的贡献很小；
// dielectric_specular_color 是个常数
vec3 F0 = lerp(dielectric_specular_color, MR.base_color, MR.metallic);
float roughness = MR.roughness;
vec3 specular = ..

// diffuse
vec3 diffuse = k_d * MR.base_color * (1.0 - MR.metallic) / PI;

// brdf
return specular + diffuse;
```


## 参考

* Games104
* [Adobe 的 PBR tutorial](https://substance3d.adobe.com/tutorials/courses/the-pbr-guide-part-2)