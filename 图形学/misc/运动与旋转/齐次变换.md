
### 为什么引入齐次坐标
在向量空间中，只有线性变换才可以用矩阵的形式表示出来。
例如

- 三维空间中的旋转变换是线性变换，可以用 $3\times 3$  矩阵来表示这个变换；
- 平移变换无法用矩阵来表示，并不是线性变换。

如果要用矩阵来表示平移变换，就需要引入新的维度。（在四维空间中的三维平移变换是线性变换）。

> 线性变换的一个重要判断标准就是：零向量经过变换后仍然是零向量。平移变换显然不符合这个特性。



### 变换类型
齐次变换矩阵的形式为
$$
\begin{bmatrix}
L & T \\
0 & 1
\end{bmatrix}
$$

由于矩阵乘法的性质，上述矩阵应该表示**先进行三维线性变换（旋转，斜切，缩放），再进行平移变换。**


#### 旋转变换
假定坐标系是「右手系」，旋转方向通过右手定则确定，绕轴旋转的矩阵如下：

- 绕 $x$  轴旋转：
$$\left[\begin{array}{cccc}
  1 & 0 & 0  \\
  0 & cos\theta & -sin\theta  \\
  0 & sin\theta & cos\theta  \\
\end{array}\right]
$$

绕 $y$  轴旋转：$$\left[\begin{array}{cccc}
  cos\theta & 0 & sin\theta  \\
  0 & 1 & 0  \\
  -sin\theta & 0 & cos\theta  \\
\end{array}\right]$$ 

- 绕 $z$  轴旋转：

$$\left[\begin{array}{cccc}
  cos\theta & -sin\theta & 0  \\
  sin\theta & cos\theta & 0  \\
  0 & 0 & 1 
\end{array}\right]$$



#### 缩放变换
变换矩阵：$$\left[\begin{array}{cccc}
  S_x & 0 & 0  \\
  0 & S_y & 0  \\
  0 & 0 & S_z  \\
\end{array}\right]$$ 



### 变换矩阵对应的顺序

如果一个矩阵表示三维空间中的变换，只考虑 rotate，scale，translate 变换，那么这个矩阵为：
$$M = TRS$$

现已知变换矩阵为 $M$ ，如何得到平移矩阵 $T$ ，旋转矩阵 $R$  以及缩放矩阵 $S$ 。

- 平移矩阵：直接取 $M$  的第四列即可
- 缩放矩阵：取 $M_{3\times3}$ ，对于每一个列向量，计算其模长，可以得到缩放分量
- 旋转矩阵：取 $M_{3\times 3}$ ，每一列都除以前面计算出的模长即可


---

#### 附：旋转矩阵的性质
性质：
- 旋转矩阵是标准正交阵： $RR^T = R^TR = I$ 
- $\det(R) = 1$ 
