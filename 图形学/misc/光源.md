#### 点光源
光强度随距离衰减：
$$F_{att} = \frac{1.0}{K_c + K_l * d + K_q * d^2}$$

公式说明：

- $K_c$：常数项，一般为1，保证分母不会小于分子
- $K_l$：线性项/一次项
- $K_q$：平方项

![[图形学/misc/_attachments/Pasted image 20221030214201.png | 300]]

不同的参数，影响光线能够覆盖到的范围，可以参考这个网站：
> [http://wiki.ogre3d.org/tiki-index.php?page=-Point+Light+Attenuation](http://wiki.ogre3d.org/tiki-index.php?page=-Point+Light+Attenuation)


#### 聚光
![[图形学/misc/_attachments/image 1.png | 300]]
内圈角度为 Φ，内圈的光线不随角度衰减
外圈角度为 γ，外圈之外没有光线
内圈和外圈之间的光线，强度为：$I= \frac{cos\theta - cos\gamma}{cos\phi - cos\gamma}$

![[图形学/misc/_attachments/180- 1.png]]

$\theta$ 的取值范围只能是 $[0, 180]$，此时 cos 是单调的，所以最终的强度值也是单调的
注：聚光是点光源的一种特殊情况，限制了角度。聚光当然也会随着距离衰减。
